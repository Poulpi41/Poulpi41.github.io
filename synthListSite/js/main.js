(()=>{"use strict";var e,t,n,r,s={18:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{m:()=>h});var s=n(110),a=n(417),o=n(882),i=n(858),c=n(555),l=n(131),d=e([s,o,i,c,l]);[s,o,i,c,l]=d.then?(await d)():d;class h{constructor(){this.currentBody=document.querySelector("body"),this.loadDefaultPage()}loadDefaultPage(){let e=new s.k;this.currentBody.innerHTML="",this.currentBody.appendChild(e.getPage()),document.querySelector("#goButton").addEventListener("click",(()=>{let e=document.querySelector("#gameVersionSelector").value;this.loadMonstSelect(e)}))}loadMonstSelect(e){switch(e){case"DQMJ2":this.loadDQMJ2Session();break;case"DQMJ2Pro":this.loadDQMJ2_PROSession();break;default:throw new Error(`game version : ${e} unimplemented`)}}loadDQMJ2Session(){let e=o.d.getInstance(),t=new a.w(e.getMonstList(),32,"non_pro2");this.currentBody.innerHTML="",this.currentBody.appendChild(t.getElement()),document.querySelector("#familyTreeBtn").addEventListener("click",(()=>{let t=document.querySelector("#depthSelect").value,n=document.querySelector("#monstSelect").value;this.loadDQMJ2FamilyTree(e,n,t)})),document.querySelector("#synthListBtn").addEventListener("click",(()=>{let t=document.querySelector("#monstSelect").value;this.loadDQMJ2SynthList(e.getDB(),t)})),this.#e(),this.gameVersion="DQMJ2"}loadDQMJ2FamilyTree(e,t,n){let r=(0,c.f)(e,t,n);this.currentBody.innerHTML="",this.currentBody.appendChild(r.toHtml()),document.createElement("button"),this.#t()}loadDQMJ2SynthList(e,t){let n=e.searchFor(t),r=new l.c(t,n);this.currentBody.innerHTML="",this.currentBody.appendChild(r.getTable()),this.#t()}loadDQMJ2_PROSession(){let e=i.w.getInstance(),t=new a.w(e.getMonstList(),32,"pro2");this.currentBody.innerHTML="",this.currentBody.appendChild(t.getElement()),document.querySelector("#familyTreeBtn").addEventListener("click",(()=>{let t=document.querySelector("#depthSelect").value,n=document.querySelector("#monstSelect").value;this.loadDQMJ2_PROFamilyTree(e,n,t)})),document.querySelector("#synthListBtn").addEventListener("click",(()=>{let t=document.querySelector("#monstSelect").value;this.loadDQMJ2_PROSynthList(e.getDB(),t)})),this.#e(),this.gameVersion="DQMJ2Pro"}loadDQMJ2_PROFamilyTree(e,t,n){let r=(0,c.f)(e,t,n);this.currentBody.innerHTML="",this.currentBody.appendChild(r.toHtml()),this.#t()}loadDQMJ2_PROSynthList(e,t){let n=e.searchFor(t),r=new l.c(t,n);this.currentBody.innerHTML="",this.currentBody.appendChild(r.getTable()),this.#t()}#e(){let e=document.createElement("button");e.id="gameSelectionBtn",e.innerHTML="go to game version selection",e.addEventListener("click",(()=>{this.loadDefaultPage()})),this.currentBody.appendChild(e)}#t(){let e=document.createElement("button");e.id="goBackDQMJ2Select",e.innerHTML="go back to monster selection",e.addEventListener("click",(()=>{switch(this.gameVersion){case"DQMJ2":this.loadDQMJ2Session();break;case"DQMJ2Pro":this.loadDQMJ2_PROSession();break;default:throw new Error(`game version : ${gameVersion} unimplemented`)}})),this.currentBody.appendChild(e)}}r()}catch(e){r(e)}}))},243:(e,t,n)=>{n.a(e,(async(e,t)=>{try{var r=n(18),s=e([r]);new((r=(s.then?(await s)():s)[0]).m),t()}catch(e){t(e)}}))},43:(e,t,n)=>{n.d(t,{H:()=>r});class r{constructor(){if(this.constructor==r)throw new Error("Model is an abstract class and cannot be instantiated");if(null==this.getMonstList)throw new Error("method getMonstList() must be implemented");if(null==this.getDB)throw new Error("method getDB() must be implemented");if(null==this.getIDCorrespondance)throw new Error("method getIDCorrespondance() must be implemented")}}},855:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{E:()=>c});var s=n(291),a=n(561),o=n(814),i=e([s,a,o]);[s,a,o]=i.then?(await i)():i;class c{constructor(){this.load()}async load(){this.db_dqmj2=s.Z}searchFor(e){let t=a.Z[e],n=this.db_dqmj2[t];return null==n?[]:n.sort(o.Z.compareSynthProp)}searchFirst(e){let t=this.searchFor(e);return 0==t.length?null:t[0]}}r()}catch(e){r(e)}}))},687:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{B:()=>c});var s=n(951),a=n(360),o=n(814),i=e([s,a,o]);[s,a,o]=i.then?(await i)():i;class c{constructor(){this.load()}async load(){this.db_dqmj2=s.Z}searchFor(e){let t=a.Z[e],n=this.db_dqmj2[t];return null==n?[]:n.sort(o.Z.compareSynthProp)}searchFirst(e){let t=this.searchFor(e);return 0==t.length?null:t[0]}}r()}catch(e){r(e)}}))},555:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{f:()=>i});var s=n(814),a=e([s]);s=(a.then?(await a)():a)[0];class o{constructor(e,t,n,r,s){this.id=e,this.name=t,this.level=n,this.parent=[],this.parentNumber=0,this.depth=r,this.idToMonster=s}addChildren(e){this.parent.push(e),this.parentNumber++}toHtml(){let e=document.createElement("li");e.id=`node${this.id}`;let t=document.createElement("img");t.src=s.Z.getStringImage(this.name),t.alt=`${this.name} image`;let n=null==this.level?"":` lv.${this.level}`,r=document.createTextNode(this.name+n),a=e;if(this.parentNumber>0){let t=document.createElement("span");t.className="caret",e.appendChild(t),t.addEventListener("click",(()=>{t.parentElement.querySelector(".nested").classList.toggle("active"),t.classList.toggle("caret-down")})),a=t}if(a.appendChild(t),a.appendChild(document.createElement("br")),a.appendChild(r),this.parentNumber>0){let t=document.createElement("ul");t.className="nested";for(let e=0;e<this.parentNumber;e++)t.appendChild(this.parent[e].toHtml());e.appendChild(t)}if(0==this.id){let t=document.createElement("ul");return t.appendChild(e),t}return e}}function i(e,t,n){return c(0,e,t,null,n)}function c(e,t,n,r,s){let a=new o(e,n,r,s);if(0==s)return a;{let r=t.getDB().searchFirst(n);if(null==r)return a;{let n=r.p;if(null==n)return a;for(let r=0;r<n.length;r++){let o=null==n[r].l?null:n[r].l;a.addChildren(c(e+r+1,t,t.getIDCorrespondance()[`${n[r].i}`],o,s-1))}}return a}}r()}catch(l){r(l)}}))},814:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{Z:()=>l});var s=n(714),a=e([s]);s=(a.then?(await a)():a)[0];const o={generic:{"rank decrease":1,"same rank":2,"rank increase":3},special:{"rank decrease":4,"same rank":5,"rank increase":6}};function i(e){return`https://poulpi41.github.io/resources/DQMJ2_InComon/images/${e}.png`}function c(e,t){return o[s.Z[t.st]][s.Z[t.rt]]-o[s.Z[e.st]][s.Z[e.rt]]}const l={propVal:o,getStringImage:i,compareSynthProp:c,gameVersions:["DQMJ2","DQMJ2Pro"]};r()}catch(d){r(d)}}))},882:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{d:()=>l});var s=n(658),a=n(382),o=n(855),i=n(43),c=e([s,a,o]);[s,a,o]=c.then?(await c)():c;class l extends i.H{constructor(){super(),this.monstList=s.Z,this.db=new o.E,this.idCorrespondance=a.Z}static getInstance(){return null==this.instance&&(this.instance=new l),this.instance}getMonstList(){return l.getInstance().monstList}getDB(){return l.getInstance().db}getIDCorrespondance(){return l.getInstance().idCorrespondance}}r()}catch(e){r(e)}}))},858:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{w:()=>l});var s=n(452),a=n(745),o=n(687),i=n(43),c=e([s,a,o]);[s,a,o]=c.then?(await c)():c;class l extends i.H{constructor(){super(),this.monstList=s.Z,this.db=new o.B,this.idCorrespondance=a.Z}static getInstance(){return null==this.instance&&(this.instance=new l),this.instance}getMonstList(){return l.getInstance().monstList}getDB(){return l.getInstance().db}getIDCorrespondance(){return l.getInstance().idCorrespondance}}r()}catch(e){r(e)}}))},382:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{Z:()=>s});const e=fetch("https://poulpi41.github.io/resources/DQMJ2/IDToMonster.json").then((e=>e.json())).then((e=>e)),s=await e;r()}catch(e){r(e)}}),1)},291:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{Z:()=>s});const e=fetch("https://poulpi41.github.io/resources/DQMJ2/synth.json").then((e=>e.json())).then((e=>e)),s=await e;r()}catch(e){r(e)}}),1)},658:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{Z:()=>s});const e=fetch("https://poulpi41.github.io/resources/DQMJ2/monster_list.json").then((e=>e.json())).then((e=>e)),s=await e;r()}catch(e){r(e)}}),1)},561:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{Z:()=>s});const e=fetch("https://poulpi41.github.io/resources/DQMJ2/monsterToID.json").then((e=>e.json())).then((e=>e)),s=await e;r()}catch(e){r(e)}}),1)},714:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{Z:()=>s});const e=fetch("https://poulpi41.github.io/resources/DQMJ2_InComon/synthProp.json").then((e=>e.json())).then((e=>e)),s=await e;r()}catch(e){r(e)}}),1)},745:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{Z:()=>s});const e=fetch("https://poulpi41.github.io/resources/DQMJ2_Pro/IDToMonster.json").then((e=>e.json())).then((e=>e)),s=await e;r()}catch(e){r(e)}}),1)},951:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{Z:()=>s});const e=fetch("https://poulpi41.github.io/resources/DQMJ2_Pro/synth.json").then((e=>e.json())).then((e=>e)),s=await e;r()}catch(e){r(e)}}),1)},452:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{Z:()=>s});const e=fetch("https://poulpi41.github.io/resources/DQMJ2_Pro/monster_list.json").then((e=>e.json())).then((e=>e)),s=await e;r()}catch(e){r(e)}}),1)},360:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{Z:()=>s});const e=fetch("https://poulpi41.github.io/resources/DQMJ2_Pro/monsterToID.json").then((e=>e.json())).then((e=>e)),s=await e;r()}catch(e){r(e)}}),1)},110:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{k:()=>o});var s=n(814),a=e([s]);s=(a.then?(await a)():a)[0];class o{constructor(){this.defaultPage=document.createElement("p"),this.defaultPage.id="defaultPage",this.defaultPage.appendChild(this.#n());let e=document.createElement("button");e.innerHTML="Go",e.id="goButton",this.defaultPage.appendChild(e)}#n(){let e=document.createElement("select");e.id="gameVersionSelector";for(let t=0;t<s.Z.gameVersions.length;t++){let n=document.createElement("option");n.value=s.Z.gameVersions[t],n.innerHTML=s.Z.gameVersions[t],e.appendChild(n)}return e}getPage(){return this.defaultPage}}r()}catch(e){r(e)}}))},417:(e,t,n)=>{n.d(t,{w:()=>r});class r{constructor(e,t,n){this.ml=e,this.maxDepth=t,this.id=n}#r(){let e=document.createElement("select");e.setAttribute("id","monstSelect");for(let t=0;t<this.ml.length;t++){let n=document.createElement("option");n.appendChild(document.createTextNode(this.ml[t])),n.value=this.ml[t],e.appendChild(n)}return e}#s(){let e=document.createElement("select");e.setAttribute("id","depthSelect");for(let t=1;t<=this.maxDepth;t++){let n=document.createElement("option");n.appendChild(document.createTextNode(t)),n.value=t,e.appendChild(n)}return e}#a(){let e=document.createElement("button");return e.setAttribute("id","familyTreeBtn"),e.appendChild(document.createTextNode("Start family tree printing")),e}#o(){let e=document.createElement("button");return e.setAttribute("id","synthListBtn"),e.appendChild(document.createTextNode("Start synth list printing")),e}getElement(){let e=document.createElement("p");return e.setAttribute("id",this.id),e.appendChild(this.#r()),e.appendChild(this.#s()),e.appendChild(this.#a()),e.appendChild(this.#o()),e}}},131:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{c:()=>c});var s=n(814),a=n(382),o=n(714),i=e([s,a,o]);[s,a,o]=i.then?(await i)():i;class c{constructor(e,t){this.son=e,this.synths=t}#i(e,t){let n=document.createElement("td"),r=document.createElement("img");r.src=s.Z.getStringImage(e),n.appendChild(r);let a=document.createElement("br");n.appendChild(a);let o=null==t?"":` lv.${t}`;return n.appendChild(document.createTextNode(e+o)),n}getTable(){let e=["Son","parent1","parent2","parent3","parent4","synth type","rank type"],t=document.createElement("table");t.id="synthList";let n=document.createElement("thead"),r=document.createElement("tr");for(let t=0;t<e.length;t++){let n=document.createElement("th");n.innerHTML=e[t],r.appendChild(n)}n.appendChild(r),t.appendChild(n);for(let e=0;e<this.synths.length;e++){let n=this.synths[e],r=document.createElement("tr"),s=this.#i(this.son);r.appendChild(s);let i=n.p;for(let e=0;e<i.length;e++){let t=a.Z[i[e].i],n=i[e].l,s=this.#i(t,n);r.appendChild(s)}for(let e=0;e<4-i.length;e++){let e=document.createElement("td");r.appendChild(e)}let c=document.createElement("td");c.innerHTML=o.Z[n.st],r.appendChild(c);let l=document.createElement("td");l.innerHTML=o.Z[n.rt],r.appendChild(l),t.appendChild(r)}return t}}r()}catch(e){r(e)}}))}},a={};function o(e){var t=a[e];if(void 0!==t)return t.exports;var n=a[e]={exports:{}};return s[e](n,n.exports,o),n.exports}e="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",t="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",n="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",r=e=>{e&&e.d<1&&(e.d=1,e.forEach((e=>e.r--)),e.forEach((e=>e.r--?e.r++:e())))},o.a=(s,a,o)=>{var i;o&&((i=[]).d=-1);var c,l,d,h=new Set,u=s.exports,p=new Promise(((e,t)=>{d=t,l=e}));p[t]=u,p[e]=e=>(i&&e(i),h.forEach(e),p.catch((e=>{}))),s.exports=p,a((s=>{var a;c=(s=>s.map((s=>{if(null!==s&&"object"==typeof s){if(s[e])return s;if(s.then){var a=[];a.d=0,s.then((e=>{o[t]=e,r(a)}),(e=>{o[n]=e,r(a)}));var o={};return o[e]=e=>e(a),o}}var i={};return i[e]=e=>{},i[t]=s,i})))(s);var o=()=>c.map((e=>{if(e[n])throw e[n];return e[t]})),l=new Promise((t=>{(a=()=>t(o)).r=0;var n=e=>e!==i&&!h.has(e)&&(h.add(e),e&&!e.d&&(a.r++,e.push(a)));c.map((t=>t[e](n)))}));return a.r?l:o()}),(e=>(e?d(p[n]=e):l(u),r(i)))),i&&i.d<0&&(i.d=0)},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o(243)})();