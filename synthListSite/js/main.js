(()=>{"use strict";var e,t,n,r,a={18:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{m:()=>h});var a=n(110),o=n(417),s=n(882),i=n(858),c=n(555),l=n(131),d=e([a,s,i,c,l]);[a,s,i,c,l]=d.then?(await d)():d;class h{constructor(){this.currentBody=document.querySelector("body"),this.loadDefaultPage()}loadDefaultPage(){let e=new a.k;this.currentBody.innerHTML="",this.currentBody.appendChild(e.getPage()),document.querySelector("#goButton").addEventListener("click",(()=>{let e=document.querySelector("#gameVersionSelector").value;this.loadMonstSelect(e)})),this.#e()}loadMonstSelect(e){switch(e){case"DQMJ2":this.#t(s.d.getInstance(),"DQMJ2");break;case"DQMJ2Pro":this.#t(i.w.getInstance(),"DQMJ2Pro");break;default:throw new Error(`game version : ${e} unimplemented`)}}#n(e,t,n){let r=(0,c.f)(e,t,n);this.currentBody.innerHTML="",this.currentBody.appendChild(r.toHtml()),this.#r(r,t),this.#a()}#r(e,t){let n=document.createElement("button");n.id="exportTree",n.innerHTML="export tree",n.addEventListener("click",(()=>{let n=JSON.stringify(e);localStorage.setItem(`${this.gameVersion}_${t}`,n)})),this.currentBody.appendChild(n)}#o(e,t){let n=new l.c(t,e);this.currentBody.innerHTML="",this.currentBody.appendChild(n.getTable()),this.#a()}#t(e,t){let n=new o.w(e.getMonstList(),32,t);this.currentBody.innerHTML="",this.currentBody.appendChild(n.getElement()),document.querySelector("#familyTreeBtn").addEventListener("click",(()=>{let t=document.querySelector("#depthSelect").value,n=document.querySelector("#monstSelect").value;this.#n(e,n,t)})),document.querySelector("#synthListBtn").addEventListener("click",(()=>{let t=document.querySelector("#monstSelect").value;this.#o(e,t)})),this.#s(),this.gameVersion=t}#s(){let e=document.createElement("button");e.id="gameSelectionBtn",e.innerHTML="go to game version selection",e.addEventListener("click",(()=>{this.loadDefaultPage()})),this.currentBody.appendChild(e)}#a(){let e=document.createElement("button");e.id="goBackDQMJ2Select",e.innerHTML="go back to monster selection",e.addEventListener("click",(()=>{this.loadMonstSelect(this.gameVersion)})),this.currentBody.appendChild(e)}#e(){let e=document.createElement("button");e.id="btnTreeStored",e.innerHTML="load stored tree",e.addEventListener("click",(()=>{this.#i()})),this.currentBody.appendChild(e)}#i(){let e=document.createElement("ul");Object.keys(localStorage).forEach((t=>{let n=document.createElement("li");n.innerHTML=t;let r=document.createElement("button");r.innerHTML="load",r.addEventListener("click",(()=>{let e=t.split("_"),n=e[0],r=e[1],a=localStorage.getItem(t),o=JSON.parse(a);this.#c(o,n,r)}));let a=document.createElement("button");a.innerHTML="delete",a.addEventListener("click",(()=>{localStorage.removeItem(t),n.remove()})),n.appendChild(r),n.append(a),e.appendChild(n)})),this.currentBody.innerHTML="",this.currentBody.appendChild(e),this.#s()}#c(e,t,n){let r={DQMJ2:s.d.getInstance().getIDCorrespondance(),DQMJ2Pro:i.w.getInstance().getIDCorrespondance()}[t],a=c.T.fromJson(e,r);this.currentBody.innerHTML="",this.currentBody.appendChild(a.toHtml()),this.#e()}}r()}catch(e){r(e)}}))},243:(e,t,n)=>{n.a(e,(async(e,t)=>{try{var r=n(18),a=e([r]);new((r=(a.then?(await a)():a)[0]).m),t()}catch(e){t(e)}}))},43:(e,t,n)=>{n.d(t,{H:()=>r});class r{static instance;constructor(){if(this.constructor==r)throw new Error("Model is an abstract class and cannot be instantiated");if(null==this.getMonstList)throw new Error("method getMonstList() must be implemented");if(null==this.getDB)throw new Error("method getDB() must be implemented");if(null==this.getIDCorrespondance)throw new Error("method getIDCorrespondance() must be implemented")}}},855:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{E:()=>c});var a=n(291),o=n(561),s=n(814),i=e([a,o,s]);[a,o,s]=i.then?(await i)():i;class c{constructor(){this.load()}async load(){this.db_dqmj2=a.Z}searchFor(e){let t=o.Z[e],n=this.db_dqmj2[t];return null==n?[]:n.sort(s.Z.compareSynthProp)}searchFirst(e){let t=this.searchFor(e);return 0==t.length?null:t[0]}}r()}catch(e){r(e)}}))},687:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{B:()=>c});var a=n(951),o=n(360),s=n(814),i=e([a,o,s]);[a,o,s]=i.then?(await i)():i;class c{constructor(){this.load()}async load(){this.db_dqmj2=a.Z}searchFor(e){let t=o.Z[e],n=this.db_dqmj2[t];return null==n?[]:n.sort(s.Z.compareSynthProp)}searchFirst(e){let t=this.searchFor(e);return 0==t.length?null:t[0]}}r()}catch(e){r(e)}}))},555:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{T:()=>s,f:()=>i});var a=n(814),o=e([a]);a=(o.then?(await o)():o)[0];class s{static fromJson(e){return this.rec_fromJson(e)}static rec_fromJson(e){let t=new s(e.id,e.name,e.level,e.depth,void 0);if(e.parentNumber>0)for(let n=0;n<e.parentNumber;n++)t.addChildren(s.rec_fromJson(e.parent[n],void 0));return t}constructor(e,t,n,r,a){this.id=e,this.name=t,this.level=n,this.parent=[],this.parentNumber=0,this.depth=r,this.idToMonster=a}addChildren(e){this.parent.push(e),this.parentNumber++}toHtml(){let e=document.createElement("li");e.id=`node${this.id}`;let t=document.createElement("img");t.src=a.Z.getStringImage(this.name),t.alt=`${this.name} image`;let n=null==this.level?"":` lv.${this.level}`,r=document.createTextNode(this.name+n),o=e;if(this.parentNumber>0){let t=document.createElement("span");t.className="caret",e.appendChild(t),t.addEventListener("click",(()=>{t.parentElement.querySelector(".nested").classList.toggle("active"),t.classList.toggle("caret-down")})),o=t}if(o.appendChild(t),o.appendChild(r),this.parentNumber>0){let t=document.createElement("ul");t.className="nested";for(let e=0;e<this.parentNumber;e++)t.appendChild(this.parent[e].toHtml());e.appendChild(t)}if(0==this.id){let t=document.createElement("ul");return t.appendChild(e),t}return e}}function i(e,t,n){return c(0,e,t,null,n)}function c(e,t,n,r,a){let o=new s(e,n,r,a);if(0==a)return o;{let r=t.getDB().searchFirst(n);if(null==r)return o;{let n=r.p;if(null==n)return o;for(let r=0;r<n.length;r++){let s=null==n[r].l?null:n[r].l;o.addChildren(c(e+r+1,t,t.getIDCorrespondance()[`${n[r].i}`],s,a-1))}}return o}}r()}catch(l){r(l)}}))},814:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{Z:()=>l});var a=n(714),o=e([a]);a=(o.then?(await o)():o)[0];const s={generic:{"rank decrease":1,"same rank":2,"rank increase":3},special:{"rank decrease":4,"same rank":5,"rank increase":6}};function i(e){return`https://poulpi41.github.io/resources/DQMJ2_InComon/images/${e}.png`}function c(e,t){return s[a.Z[t.st]][a.Z[t.rt]]-s[a.Z[e.st]][a.Z[e.rt]]}const l={propVal:s,getStringImage:i,compareSynthProp:c,gameVersions:["DQMJ2","DQMJ2Pro"]};r()}catch(d){r(d)}}))},882:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{d:()=>l});var a=n(658),o=n(382),s=n(855),i=n(43),c=e([a,o,s]);[a,o,s]=c.then?(await c)():c;class l extends i.H{constructor(){super(),this.monstList=a.Z,this.db=new s.E,this.idCorrespondance=o.Z}static getInstance(){return null==this.instance&&(this.instance=new l),this.instance}getMonstList(){return l.getInstance().monstList}getDB(){return l.getInstance().db}getIDCorrespondance(){return l.getInstance().idCorrespondance}}r()}catch(e){r(e)}}))},858:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{w:()=>l});var a=n(452),o=n(745),s=n(687),i=n(43),c=e([a,o,s]);[a,o,s]=c.then?(await c)():c;class l extends i.H{constructor(){super(),this.monstList=a.Z,this.db=new s.B,this.idCorrespondance=o.Z}static getInstance(){return null==this.instance&&(this.instance=new l),this.instance}getMonstList(){return l.getInstance().monstList}getDB(){return l.getInstance().db}getIDCorrespondance(){return l.getInstance().idCorrespondance}}r()}catch(e){r(e)}}))},382:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{Z:()=>a});const e=fetch("https://poulpi41.github.io/resources/DQMJ2/IDToMonster.json").then((e=>e.json())).then((e=>e)),a=await e;r()}catch(e){r(e)}}),1)},291:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{Z:()=>a});const e=fetch("https://poulpi41.github.io/resources/DQMJ2/synth.json").then((e=>e.json())).then((e=>e)),a=await e;r()}catch(e){r(e)}}),1)},658:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{Z:()=>a});const e=fetch("https://poulpi41.github.io/resources/DQMJ2/monster_list.json").then((e=>e.json())).then((e=>e)),a=await e;r()}catch(e){r(e)}}),1)},561:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{Z:()=>a});const e=fetch("https://poulpi41.github.io/resources/DQMJ2/monsterToID.json").then((e=>e.json())).then((e=>e)),a=await e;r()}catch(e){r(e)}}),1)},714:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{Z:()=>a});const e=fetch("https://poulpi41.github.io/resources/DQMJ2_InComon/synthProp.json").then((e=>e.json())).then((e=>e)),a=await e;r()}catch(e){r(e)}}),1)},745:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{Z:()=>a});const e=fetch("https://poulpi41.github.io/resources/DQMJ2_Pro/IDToMonster.json").then((e=>e.json())).then((e=>e)),a=await e;r()}catch(e){r(e)}}),1)},951:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{Z:()=>a});const e=fetch("https://poulpi41.github.io/resources/DQMJ2_Pro/synth.json").then((e=>e.json())).then((e=>e)),a=await e;r()}catch(e){r(e)}}),1)},452:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{Z:()=>a});const e=fetch("https://poulpi41.github.io/resources/DQMJ2_Pro/monster_list.json").then((e=>e.json())).then((e=>e)),a=await e;r()}catch(e){r(e)}}),1)},360:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{Z:()=>a});const e=fetch("https://poulpi41.github.io/resources/DQMJ2_Pro/monsterToID.json").then((e=>e.json())).then((e=>e)),a=await e;r()}catch(e){r(e)}}),1)},110:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{k:()=>s});var a=n(814),o=e([a]);a=(o.then?(await o)():o)[0];class s{constructor(){this.defaultPage=document.createElement("p"),this.defaultPage.id="defaultPage",this.defaultPage.appendChild(this.#l());let e=document.createElement("button");e.innerHTML="Go",e.id="goButton",this.defaultPage.appendChild(e)}#l(){let e=document.createElement("select");e.id="gameVersionSelector";for(let t=0;t<a.Z.gameVersions.length;t++){let n=document.createElement("option");n.value=a.Z.gameVersions[t],n.innerHTML=a.Z.gameVersions[t],e.appendChild(n)}return e}getPage(){return this.defaultPage}}r()}catch(e){r(e)}}))},417:(e,t,n)=>{n.d(t,{w:()=>r});class r{constructor(e,t,n){this.ml=e,this.maxDepth=t,this.id=n}#d(){let e=document.createElement("select");e.setAttribute("id","monstSelect");for(let t=0;t<this.ml.length;t++){let n=document.createElement("option");n.appendChild(document.createTextNode(this.ml[t])),n.value=this.ml[t],e.appendChild(n)}return e}#h(){let e=document.createElement("select");e.setAttribute("id","depthSelect");for(let t=1;t<=this.maxDepth;t++){let n=document.createElement("option");n.appendChild(document.createTextNode(t)),n.value=t,e.appendChild(n)}return e}#u(){let e=document.createElement("button");return e.setAttribute("id","familyTreeBtn"),e.appendChild(document.createTextNode("Start family tree printing")),e}#p(){let e=document.createElement("button");return e.setAttribute("id","synthListBtn"),e.appendChild(document.createTextNode("Start synth list printing")),e}getElement(){let e=document.createElement("p");return e.setAttribute("id",this.id),e.appendChild(this.#d()),e.appendChild(this.#h()),e.appendChild(this.#u()),e.appendChild(this.#p()),e}}},131:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{c:()=>i});var a=n(814),o=n(714),s=e([a,o]);[a,o]=s.then?(await s)():s;class i{constructor(e,t){this.son=e,this.synths=t.getDB().searchFor(e),this.IDToMonster=t.getIDCorrespondance()}#m(e,t){let n=document.createElement("td"),r=document.createElement("img");r.src=a.Z.getStringImage(e),n.appendChild(r);let o=document.createElement("br");n.appendChild(o);let s=null==t?"":` lv.${t}`;return n.appendChild(document.createTextNode(e+s)),n}getTable(){let e=["Son","parent1","parent2","parent3","parent4","synth type","rank type"],t=document.createElement("table");t.id="synthList";let n=document.createElement("thead"),r=document.createElement("tr");for(let t=0;t<e.length;t++){let n=document.createElement("th");n.innerHTML=e[t],r.appendChild(n)}n.appendChild(r),t.appendChild(n);for(let e=0;e<this.synths.length;e++){let n=this.synths[e],r=document.createElement("tr"),a=this.#m(this.son);r.appendChild(a);let s=n.p;for(let e=0;e<s.length;e++){let t=this.IDToMonster[s[e].i],n=s[e].l,a=this.#m(t,n);r.appendChild(a)}for(let e=0;e<4-s.length;e++){let e=document.createElement("td");r.appendChild(e)}let i=document.createElement("td");i.innerHTML=o.Z[n.st],r.appendChild(i);let c=document.createElement("td");c.innerHTML=o.Z[n.rt],r.appendChild(c),t.appendChild(r)}return t}}r()}catch(e){r(e)}}))}},o={};function s(e){var t=o[e];if(void 0!==t)return t.exports;var n=o[e]={exports:{}};return a[e](n,n.exports,s),n.exports}e="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",t="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",n="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",r=e=>{e&&e.d<1&&(e.d=1,e.forEach((e=>e.r--)),e.forEach((e=>e.r--?e.r++:e())))},s.a=(a,o,s)=>{var i;s&&((i=[]).d=-1);var c,l,d,h=new Set,u=a.exports,p=new Promise(((e,t)=>{d=t,l=e}));p[t]=u,p[e]=e=>(i&&e(i),h.forEach(e),p.catch((e=>{}))),a.exports=p,o((a=>{var o;c=(a=>a.map((a=>{if(null!==a&&"object"==typeof a){if(a[e])return a;if(a.then){var o=[];o.d=0,a.then((e=>{s[t]=e,r(o)}),(e=>{s[n]=e,r(o)}));var s={};return s[e]=e=>e(o),s}}var i={};return i[e]=e=>{},i[t]=a,i})))(a);var s=()=>c.map((e=>{if(e[n])throw e[n];return e[t]})),l=new Promise((t=>{(o=()=>t(s)).r=0;var n=e=>e!==i&&!h.has(e)&&(h.add(e),e&&!e.d&&(o.r++,e.push(o)));c.map((t=>t[e](n)))}));return o.r?l:s()}),(e=>(e?d(p[n]=e):l(u),r(i)))),i&&i.d<0&&(i.d=0)},s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s(243)})();