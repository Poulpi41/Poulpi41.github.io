(()=>{"use strict";var e,t,n,r,a={18:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{m:()=>d});var a=n(110),l=n(417),i=n(882),s=n(555),o=n(131),c=e([a,i,s,o]);[a,i,s,o]=c.then?(await c)():c;class d{constructor(){this.currentBody=document.querySelector("body"),this.loadDefaultPage()}loadDefaultPage(){let e=new a.k;this.currentBody.innerHTML="",this.currentBody.appendChild(e.getPage()),document.querySelector("#goButton").addEventListener("click",(()=>{let e=document.querySelector("#gameVersionSelector").value;this.loadMonstSelect(e)}))}loadMonstSelect(e){if("DQMJ2"!==e)throw new Error(`game version : ${e} unimplemented`);this.loadDQMJ2Session()}loadDQMJ2Session(){let e=i.d.getInstance(),t=new l.w(e.getMonstList(),32,"non_pro2");this.currentBody.innerHTML="",this.currentBody.appendChild(t.getElement()),this.#e(),document.querySelector("#familyTreeBtn").addEventListener("click",(()=>{let t=document.querySelector("#depthSelect").value,n=document.querySelector("#monstSelect").value;this.loadDQMJ2FamilyTree(e.getDB(),n,t)})),document.querySelector("#synthListBtn").addEventListener("click",(()=>{let t=document.querySelector("#monstSelect").value;this.loadDQMJ2SynthList(e.getDB(),t)}))}loadDQMJ2FamilyTree(e,t,n){let r=(0,s.f)(e,t,n);this.currentBody.innerHTML="",this.currentBody.appendChild(r.toHtml());let a,l=document.getElementsByClassName("caret");for(a=0;a<l.length;a++)l[a].addEventListener("click",(function(){this.parentElement.querySelector(".nested").classList.toggle("active"),this.classList.toggle("caret-down")}));let i=document.createElement("button");i.id="goBackDQMJ2Select",i.innerHTML="go back to monster selection",i.addEventListener("click",(()=>{this.loadDQMJ2Session()})),this.currentBody.appendChild(i)}loadDQMJ2SynthList(e,t){let n=e.searchFor(t),r=new o.c(t,n);this.currentBody.innerHTML="",this.currentBody.appendChild(r.getTable());let a=document.createElement("button");a.id="goBackDQMJ2Select",a.innerHTML="go back to monster selection",a.addEventListener("click",(()=>{this.loadDQMJ2Session()})),this.currentBody.appendChild(a)}#e(){let e=document.createElement("button");e.id="gameSelectionBtn",e.innerHTML="go to game version selection",e.addEventListener("click",(()=>{this.loadDefaultPage()})),this.currentBody.appendChild(e)}}r()}catch(e){r(e)}}))},243:(e,t,n)=>{n.a(e,(async(e,t)=>{try{var r=n(18),a=e([r]);new((r=(a.then?(await a)():a)[0]).m),t()}catch(e){t(e)}}))},855:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{E:()=>o});var a=n(291),l=n(561),i=n(814),s=e([a,l,i]);[a,l,i]=s.then?(await s)():s;class o{constructor(){this.load()}async load(){this.db_dqmj2=a.Z}searchFor(e){let t=l.Z[e],n=this.db_dqmj2[t];return null==n?[]:n.sort(i.Z.compareSynthProp)}searchFirst(e){let t=this.searchFor(e);return 0==t.length?null:t[0]}}r()}catch(e){r(e)}}))},555:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{f:()=>o});var a=n(814),l=n(382),i=e([a,l]);[a,l]=i.then?(await i)():i;class s{constructor(e,t,n,r){this.id=e,this.name=t,this.level=n,this.parent=[],this.parentNumber=0}addChildren(e){this.parent.push(e),this.parentNumber++}toHtml(){let e=document.createElement("li");e.setAttribute("id",`node${this.id}`);let t=document.createElement("img");t.src=a.Z.getStringImage(this.name),t.alt=`${this.name} image`;let n=e;if(this.parentNumber>0){let t=document.createElement("span");t.setAttribute("class","caret"),n=t,e.appendChild(t)}n.appendChild(t),n.appendChild(document.createElement("br"));let r=null==this.level?"":` lv.${this.level}`,l=document.createTextNode(this.name+r);if(n.appendChild(l),this.parentNumber>0){let t=document.createElement("ul");t.setAttribute("class","nested");for(let e=0;e<this.parentNumber;e++)t.appendChild(this.parent[e].toHtml());e.appendChild(t)}if(0==this.id){let t=document.createElement("ul");return t.setAttribute("id","treeRoot"),t.appendChild(e),t}return e}}function o(e,t,n){return c(0,e,t,null,n)}function c(e,t,n,r,a){let i=new s(e,n,r,a);if(0==a)return i;{let r=t.searchFirst(n);if(null==r)return i;{let n=r.p;if(null==n)return i;for(let r=0;r<n.length;r++){let s=null==n[r].l?null:n[r].l;i.addChildren(c(e+r+1,t,l.Z[`${n[r].i}`],s,a-1))}}return i}}r()}catch(d){r(d)}}))},814:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{Z:()=>c});var a=n(714),l=e([a]);a=(l.then?(await l)():l)[0];const i={generic:{"rank decrease":1,"same rank":2,"rank increase":3},special:{"rank decrease":4,"same rank":5,"rank increase":6}};function s(e){return`https://poulpi41.github.io/resources/DQMJ2_InComon/images/${e}.png`}function o(e,t){return i[a.Z[t.st]][a.Z[t.rt]]-i[a.Z[e.st]][a.Z[e.rt]]}const c={propVal:i,getStringImage:s,compareSynthProp:o,gameVersions:["DQMJ2","DQMJ2Pro"]};r()}catch(d){r(d)}}))},882:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{d:()=>s});var a=n(658),l=n(855),i=e([a,l]);[a,l]=i.then?(await i)():i;class s{constructor(e,t){this.monstList=e,this.db=t}static getInstance(){return null==this.instance&&(this.instance=new s(a.Z,new l.E)),this.instance}getMonstList(){return s.getInstance().monstList}getDB(){return s.getInstance().db}}r()}catch(e){r(e)}}))},382:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{Z:()=>a});const e=fetch("https://poulpi41.github.io/resources/DQMJ2/IDToMonster.json").then((e=>e.json())).then((e=>e)),a=await e;r()}catch(e){r(e)}}),1)},291:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{Z:()=>a});const e=fetch("https://poulpi41.github.io/resources/DQMJ2/synth.json").then((e=>e.json())).then((e=>e)),a=await e;r()}catch(e){r(e)}}),1)},658:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{Z:()=>a});const e=fetch("https://poulpi41.github.io/resources/DQMJ2/monster_list.json").then((e=>e.json())).then((e=>e)),a=await e;r()}catch(e){r(e)}}),1)},561:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{Z:()=>a});const e=fetch("https://poulpi41.github.io/resources/DQMJ2/monsterToID.json").then((e=>e.json())).then((e=>e)),a=await e;r()}catch(e){r(e)}}),1)},714:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{Z:()=>a});const e=fetch("https://poulpi41.github.io/resources/DQMJ2_InComon/synthProp.json").then((e=>e.json())).then((e=>e)),a=await e;r()}catch(e){r(e)}}),1)},110:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{k:()=>i});var a=n(814),l=e([a]);a=(l.then?(await l)():l)[0];class i{constructor(){this.defaultPage=document.createElement("p"),this.defaultPage.id="defaultPage",this.defaultPage.appendChild(this.#t());let e=document.createElement("button");e.innerHTML="Go",e.id="goButton",this.defaultPage.appendChild(e)}#t(){let e=document.createElement("select");e.id="gameVersionSelector";for(let t=0;t<a.Z.gameVersions.length;t++){let n=document.createElement("option");n.value=a.Z.gameVersions[t],n.innerHTML=a.Z.gameVersions[t],e.appendChild(n)}return e}getPage(){return this.defaultPage}}r()}catch(e){r(e)}}))},417:(e,t,n)=>{n.d(t,{w:()=>r});class r{constructor(e,t,n){this.ml=e,this.maxDepth=t,this.id=n}#n(){let e=document.createElement("select");e.setAttribute("id","monstSelect");for(let t=0;t<this.ml.length;t++){let n=document.createElement("option");n.appendChild(document.createTextNode(this.ml[t])),n.value=this.ml[t],e.appendChild(n)}return e}#r(){let e=document.createElement("select");e.setAttribute("id","depthSelect");for(let t=1;t<=this.maxDepth;t++){let n=document.createElement("option");n.appendChild(document.createTextNode(t)),n.value=t,e.appendChild(n)}return e}#a(){let e=document.createElement("button");return e.setAttribute("id","familyTreeBtn"),e.appendChild(document.createTextNode("Start family tree printing")),e}#l(){let e=document.createElement("button");return e.setAttribute("id","synthListBtn"),e.appendChild(document.createTextNode("Start synth list printing")),e}getElement(){let e=document.createElement("p");return e.setAttribute("id",this.id),e.appendChild(this.#n()),e.appendChild(this.#r()),e.appendChild(this.#a()),e.appendChild(this.#l()),e}}},131:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{c:()=>o});var a=n(814),l=n(382),i=n(714),s=e([a,l,i]);[a,l,i]=s.then?(await s)():s;class o{constructor(e,t){this.son=e,this.synths=t}#i(e,t){let n=document.createElement("td"),r=document.createElement("img");r.src=a.Z.getStringImage(e),n.appendChild(r);let l=document.createElement("br");n.appendChild(l);let i=null==t?"":` lv.${t}`;return n.appendChild(document.createTextNode(e+i)),n}getTable(){let e=["Son","parent1","parent2","parent3","parent4","synth type","rank type"],t=document.createElement("table");t.id="synthList";let n=document.createElement("thead"),r=document.createElement("tr");for(let t=0;t<e.length;t++){let n=document.createElement("th");n.innerHTML=e[t],r.appendChild(n)}n.appendChild(r),t.appendChild(n);for(let e=0;e<this.synths.length;e++){let n=this.synths[e],r=document.createElement("tr"),a=this.#i(this.son);r.appendChild(a);let s=n.p;for(let e=0;e<s.length;e++){let t=l.Z[s[e].i],n=s[e].l,a=this.#i(t,n);r.appendChild(a)}for(let e=0;e<4-s.length;e++){let e=document.createElement("td");r.appendChild(e)}let o=document.createElement("td");o.innerHTML=i.Z[n.st],r.appendChild(o);let c=document.createElement("td");c.innerHTML=i.Z[n.rt],r.appendChild(c),t.appendChild(r)}return t}}r()}catch(e){r(e)}}))}},l={};function i(e){var t=l[e];if(void 0!==t)return t.exports;var n=l[e]={exports:{}};return a[e](n,n.exports,i),n.exports}e="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",t="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",n="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",r=e=>{e&&e.d<1&&(e.d=1,e.forEach((e=>e.r--)),e.forEach((e=>e.r--?e.r++:e())))},i.a=(a,l,i)=>{var s;i&&((s=[]).d=-1);var o,c,d,h=new Set,u=a.exports,p=new Promise(((e,t)=>{d=t,c=e}));p[t]=u,p[e]=e=>(s&&e(s),h.forEach(e),p.catch((e=>{}))),a.exports=p,l((a=>{var l;o=(a=>a.map((a=>{if(null!==a&&"object"==typeof a){if(a[e])return a;if(a.then){var l=[];l.d=0,a.then((e=>{i[t]=e,r(l)}),(e=>{i[n]=e,r(l)}));var i={};return i[e]=e=>e(l),i}}var s={};return s[e]=e=>{},s[t]=a,s})))(a);var i=()=>o.map((e=>{if(e[n])throw e[n];return e[t]})),c=new Promise((t=>{(l=()=>t(i)).r=0;var n=e=>e!==s&&!h.has(e)&&(h.add(e),e&&!e.d&&(l.r++,e.push(l)));o.map((t=>t[e](n)))}));return l.r?c:i()}),(e=>(e?d(p[n]=e):c(u),r(s)))),s&&s.d<0&&(s.d=0)},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i(243)})();