(()=>{"use strict";var e,t,n,r,a={18:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{m:()=>d});var a=n(110),i=n(417),l=n(882),o=n(555),s=n(131),c=e([a,l,o,s]);[a,l,o,s]=c.then?(await c)():c;class d{constructor(){this.currentBody=document.querySelector("body"),this.loadDefaultPage()}loadDefaultPage(){let e=new a.k;this.currentBody.innerHTML="",this.currentBody.appendChild(e.getPage()),document.querySelector("#goButton").addEventListener("click",(()=>{let e=document.querySelector("#gameVersionSelector").value;this.loadMonstSelect(e)}))}loadMonstSelect(e){if("DQMJ2"!==e)throw new Error(`game version : ${e} unimplemented`);this.loadDQMJ2Session()}loadDQMJ2Session(){let e=l.d.getInstance(),t=new i.w(e.getMonstList(),32,"non_pro2");this.currentBody.innerHTML="",this.currentBody.appendChild(t.getElement()),this.#e(),document.querySelector("#familyTreeBtn").addEventListener("click",(()=>{let t=document.querySelector("#depthSelect").value,n=document.querySelector("#monstSelect").value;this.loadDQMJ2FamilyTree(e.getDB(),n,t)})),document.querySelector("#synthListBtn").addEventListener("click",(()=>{let t=document.querySelector("#monstSelect").value;this.loadDQMJ2SynthList(e.getDB(),t)}))}loadDQMJ2FamilyTree(e,t,n){let r=(0,o.f)(e,t,n);this.currentBody.innerHTML="",this.currentBody.appendChild(r.toHtml());let a,i=document.getElementsByClassName("caret");for(a=0;a<i.length;a++)i[a].addEventListener("click",(function(){this.parentElement.querySelector(".nested").classList.toggle("active"),this.classList.toggle("caret-down")}));let l=document.createElement("button");l.id="goBackDQMJ2Select",l.innerHTML="go back to monster selection",l.addEventListener("click",(()=>{this.loadDQMJ2Session()})),this.currentBody.appendChild(l)}loadDQMJ2SynthList(e,t){let n=e.searchFor(t),r=new s.c(t,n);this.currentBody.innerHTML="",this.currentBody.appendChild(r.getTable());let a=document.createElement("button");a.id="goBackDQMJ2Select",a.innerHTML="go back to monster selection",a.addEventListener("click",(()=>{this.loadDQMJ2Session()})),this.currentBody.appendChild(a)}#e(){let e=document.createElement("button");e.id="gameSelectionBtn",e.innerHTML="go to game version selection",e.addEventListener("click",(()=>{this.loadDefaultPage()})),this.currentBody.appendChild(e)}}r()}catch(e){r(e)}}))},243:(e,t,n)=>{n.a(e,(async(e,t)=>{try{var r=n(18),a=e([r]);r=(a.then?(await a)():a)[0],(async()=>{if("serviceWorker"in navigator)try{const e=await navigator.serviceWorker.register("/sw.js",{scope:"/"});e.installing?console.log("Service worker installing"):e.waiting?console.log("Service worker installed"):e.active&&console.log("Service worker active")}catch(e){console.error(`Registration failed with ${e}`)}})(),new r.m,t()}catch(e){t(e)}}))},855:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{E:()=>s});var a=n(291),i=n(561),l=n(814),o=e([a,i,l]);[a,i,l]=o.then?(await o)():o;class s{constructor(){this.load()}async load(){this.db_dqmj2=a.Z}searchFor(e){let t=i.Z[e],n=this.db_dqmj2[t];return null==n?[]:n.sort(l.Z.compareSynthProp)}searchFirst(e){let t=this.searchFor(e);return 0==t.length?null:t[0]}}r()}catch(e){r(e)}}))},555:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{f:()=>s});var a=n(814),i=n(382),l=e([a,i]);[a,i]=l.then?(await l)():l;class o{constructor(e,t,n,r){this.id=e,this.name=t,this.level=n,this.parent=[],this.parentNumber=0}addChildren(e){this.parent.push(e),this.parentNumber++}toHtml(){let e=document.createElement("li");e.setAttribute("id",`node${this.id}`);let t=document.createElement("img");t.src=a.Z.getStringImage(this.name),t.alt=`${this.name} image`;let n=e;if(this.parentNumber>0){let t=document.createElement("span");t.setAttribute("class","caret"),n=t,e.appendChild(t)}n.appendChild(t),n.appendChild(document.createElement("br"));let r=null==this.level?"":` lv.${this.level}`,i=document.createTextNode(this.name+r);if(n.appendChild(i),this.parentNumber>0){let t=document.createElement("ul");t.setAttribute("class","nested");for(let e=0;e<this.parentNumber;e++)t.appendChild(this.parent[e].toHtml());e.appendChild(t)}if(0==this.id){let t=document.createElement("ul");return t.setAttribute("id","treeRoot"),t.appendChild(e),t}return e}}function s(e,t,n){return c(0,e,t,null,n)}function c(e,t,n,r,a){let l=new o(e,n,r,a);if(0==a)return l;{let r=t.searchFirst(n);if(null==r)return l;{let n=r.p;if(null==n)return l;for(let r=0;r<n.length;r++){let o=null==n[r].l?null:n[r].l;l.addChildren(c(e+r+1,t,i.Z[`${n[r].i}`],o,a-1))}}return l}}r()}catch(d){r(d)}}))},814:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{Z:()=>c});var a=n(714),i=e([a]);a=(i.then?(await i)():i)[0];const l={generic:{"rank decrease":1,"same rank":2,"rank increase":3},special:{"rank decrease":4,"same rank":5,"rank increase":6}};function o(e){return`https://poulpi41.github.io/resources/DQMJ2_InComon/images/${e}.png`}function s(e,t){return l[a.Z[t.st]][a.Z[t.rt]]-l[a.Z[e.st]][a.Z[e.rt]]}const c={propVal:l,getStringImage:o,compareSynthProp:s,gameVersions:["DQMJ2","DQMJ2Pro"]};r()}catch(d){r(d)}}))},882:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{d:()=>o});var a=n(658),i=n(855),l=e([a,i]);[a,i]=l.then?(await l)():l;class o{constructor(e,t){this.monstList=e,this.db=t}static getInstance(){return null==this.instance&&(this.instance=new o(a.Z,new i.E)),this.instance}getMonstList(){return o.getInstance().monstList}getDB(){return o.getInstance().db}}r()}catch(e){r(e)}}))},382:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{Z:()=>a});const e=fetch("https://poulpi41.github.io/resources/DQMJ2/IDToMonster.json").then((e=>e.json())).then((e=>e)),a=await e;r()}catch(e){r(e)}}),1)},291:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{Z:()=>a});const e=fetch("https://poulpi41.github.io/resources/DQMJ2/synth.json").then((e=>e.json())).then((e=>e)),a=await e;r()}catch(e){r(e)}}),1)},658:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{Z:()=>a});const e=fetch("https://poulpi41.github.io/resources/DQMJ2/monster_list.json").then((e=>e.json())).then((e=>e)),a=await e;r()}catch(e){r(e)}}),1)},561:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{Z:()=>a});const e=fetch("https://poulpi41.github.io/resources/DQMJ2/monsterToID.json").then((e=>e.json())).then((e=>e)),a=await e;r()}catch(e){r(e)}}),1)},714:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{Z:()=>a});const e=fetch("https://poulpi41.github.io/resources/DQMJ2_InComon/synthProp.json").then((e=>e.json())).then((e=>e)),a=await e;r()}catch(e){r(e)}}),1)},110:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{k:()=>l});var a=n(814),i=e([a]);a=(i.then?(await i)():i)[0];class l{constructor(){this.defaultPage=document.createElement("p"),this.defaultPage.id="defaultPage",this.defaultPage.appendChild(this.#t());let e=document.createElement("button");e.innerHTML="Go",e.id="goButton",this.defaultPage.appendChild(e)}#t(){let e=document.createElement("select");e.id="gameVersionSelector";for(let t=0;t<a.Z.gameVersions.length;t++){let n=document.createElement("option");n.value=a.Z.gameVersions[t],n.innerHTML=a.Z.gameVersions[t],e.appendChild(n)}return e}getPage(){return this.defaultPage}}r()}catch(e){r(e)}}))},417:(e,t,n)=>{n.d(t,{w:()=>r});class r{constructor(e,t,n){this.ml=e,this.maxDepth=t,this.id=n}#n(){let e=document.createElement("select");e.setAttribute("id","monstSelect");for(let t=0;t<this.ml.length;t++){let n=document.createElement("option");n.appendChild(document.createTextNode(this.ml[t])),n.value=this.ml[t],e.appendChild(n)}return e}#r(){let e=document.createElement("select");e.setAttribute("id","depthSelect");for(let t=1;t<=this.maxDepth;t++){let n=document.createElement("option");n.appendChild(document.createTextNode(t)),n.value=t,e.appendChild(n)}return e}#a(){let e=document.createElement("button");return e.setAttribute("id","familyTreeBtn"),e.appendChild(document.createTextNode("Start family tree printing")),e}#i(){let e=document.createElement("button");return e.setAttribute("id","synthListBtn"),e.appendChild(document.createTextNode("Start synth list printing")),e}getElement(){let e=document.createElement("p");return e.setAttribute("id",this.id),e.appendChild(this.#n()),e.appendChild(this.#r()),e.appendChild(this.#a()),e.appendChild(this.#i()),e}}},131:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{c:()=>s});var a=n(814),i=n(382),l=n(714),o=e([a,i,l]);[a,i,l]=o.then?(await o)():o;class s{constructor(e,t){this.son=e,this.synths=t}#l(e,t){let n=document.createElement("td"),r=document.createElement("img");r.src=a.Z.getStringImage(e),n.appendChild(r);let i=document.createElement("br");n.appendChild(i);let l=null==t?"":` lv.${t}`;return n.appendChild(document.createTextNode(e+l)),n}getTable(){let e=["Son","parent1","parent2","parent3","parent4","synth type","rank type"],t=document.createElement("table");t.id="synthList";let n=document.createElement("thead"),r=document.createElement("tr");for(let t=0;t<e.length;t++){let n=document.createElement("th");n.innerHTML=e[t],r.appendChild(n)}n.appendChild(r),t.appendChild(n);for(let e=0;e<this.synths.length;e++){let n=this.synths[e],r=document.createElement("tr"),a=this.#l(this.son);r.appendChild(a);let o=n.p;for(let e=0;e<o.length;e++){let t=i.Z[o[e].i],n=o[e].l,a=this.#l(t,n);r.appendChild(a)}for(let e=0;e<4-o.length;e++){let e=document.createElement("td");r.appendChild(e)}let s=document.createElement("td");s.innerHTML=l.Z[n.st],r.appendChild(s);let c=document.createElement("td");c.innerHTML=l.Z[n.rt],r.appendChild(c),t.appendChild(r)}return t}}r()}catch(e){r(e)}}))}},i={};function l(e){var t=i[e];if(void 0!==t)return t.exports;var n=i[e]={exports:{}};return a[e](n,n.exports,l),n.exports}e="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",t="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",n="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",r=e=>{e&&e.d<1&&(e.d=1,e.forEach((e=>e.r--)),e.forEach((e=>e.r--?e.r++:e())))},l.a=(a,i,l)=>{var o;l&&((o=[]).d=-1);var s,c,d,h=new Set,u=a.exports,p=new Promise(((e,t)=>{d=t,c=e}));p[t]=u,p[e]=e=>(o&&e(o),h.forEach(e),p.catch((e=>{}))),a.exports=p,i((a=>{var i;s=(a=>a.map((a=>{if(null!==a&&"object"==typeof a){if(a[e])return a;if(a.then){var i=[];i.d=0,a.then((e=>{l[t]=e,r(i)}),(e=>{l[n]=e,r(i)}));var l={};return l[e]=e=>e(i),l}}var o={};return o[e]=e=>{},o[t]=a,o})))(a);var l=()=>s.map((e=>{if(e[n])throw e[n];return e[t]})),c=new Promise((t=>{(i=()=>t(l)).r=0;var n=e=>e!==o&&!h.has(e)&&(h.add(e),e&&!e.d&&(i.r++,e.push(i)));s.map((t=>t[e](n)))}));return i.r?c:l()}),(e=>(e?d(p[n]=e):c(u),r(o)))),o&&o.d<0&&(o.d=0)},l.d=(e,t)=>{for(var n in t)l.o(t,n)&&!l.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),l(243)})();